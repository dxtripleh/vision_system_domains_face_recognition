---
description: 
globs: 
alwaysApply: true
---
# ë¹„ì „ ì‹œìŠ¤í…œ íŠ¹í™” ê·œì¹™ (Vision System Specific Rules)

ì´ ê·œì¹™ì€ ì–¼êµ´ì¸ì‹ì„ ì‹œì‘ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•œ ë¹„ì „ ì‹œìŠ¤í…œì—ë§Œ ì ìš©ë˜ëŠ” ë„ë©”ì¸ íŠ¹í™” ê°œë°œ í‘œì¤€ì…ë‹ˆë‹¤.

## ğŸ“ ë¹„ì „ ì‹œìŠ¤í…œ ì „ìš© êµ¬ì¡°

### ìµœìƒìœ„ í‘œì¤€ í´ë” (ë¹„ì „ ì‹œìŠ¤í…œ ì „ìš©)
- `domains/` - ë„ë©”ì¸ë³„ ë…ë¦½ ê°œë°œ (face_recognition, factory_defect, powerline_inspection)
- `shared/` - ê³µí†µ ëª¨ë“ˆ (vision_core, security)
- `models/` - ëª¨ë¸ ì •ì˜ ë° ê°€ì¤‘ì¹˜
- `datasets/` - êµ¬ì¡°í™”ëœ ë°ì´í„°ì…‹ (í•™ìŠµ ì „ìš©)
- `data/` - ëŸ°íƒ€ì„ ë°ì´í„° (temp, logs, output)

### ê³„ì¸µë³„ ì˜ì¡´ì„± ê·œì¹™ (ë¹„ì „ ì‹œìŠ¤í…œ íŠ¹í™”)
1. **Level 1**: `[common, config]` - ê³µí†µ ìœ í‹¸ë¦¬í‹° ë° ì„¤ì • ê³„ì¸µ
2. **Level 2**: `[shared]` - ê³µìœ  ëª¨ë“ˆ ê³„ì¸µ (vision_core, security)
3. **Level 3**: `[models]` - ëª¨ë¸ ë° AI ê´€ë ¨ ê³„ì¸µ
4. **Level 4**: `[domains]` - ë„ë©”ì¸ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ
5. **Level 5**: `[applications]` - ìµœì¢… ì‚¬ìš©ì ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ (í–¥í›„)

### Shared/Vision_Core í´ë” êµ¬ì¡° (ë¹„ì „ ì‹œìŠ¤í…œ ì „ìš©)
```
shared/vision_core/
â”œâ”€â”€ __init__.py (í•„ìˆ˜)
â”œâ”€â”€ README.md (í•„ìˆ˜)
â”œâ”€â”€ detection/
â”‚   â”œâ”€â”€ __init__.py (í•„ìˆ˜)
â”‚   â”œâ”€â”€ README.md (í•„ìˆ˜)
â”‚   â”œâ”€â”€ base_detector.py
â”‚   â”œâ”€â”€ face_detector.py
â”‚   â”œâ”€â”€ object_detector.py
â”‚   â””â”€â”€ quality_assessor.py
â”œâ”€â”€ recognition/
â”‚   â”œâ”€â”€ __init__.py (í•„ìˆ˜)
â”‚   â”œâ”€â”€ README.md (í•„ìˆ˜)
â”‚   â”œâ”€â”€ base_recognizer.py
â”‚   â”œâ”€â”€ face_embedder.py
â”‚   â”œâ”€â”€ face_matcher.py
â”‚   â””â”€â”€ similarity_matcher.py
â”œâ”€â”€ preprocessing/
â”‚   â”œâ”€â”€ __init__.py (í•„ìˆ˜)
â”‚   â”œâ”€â”€ README.md (í•„ìˆ˜)
â”‚   â”œâ”€â”€ image_processor.py
â”‚   â”œâ”€â”€ face_aligner.py
â”‚   â”œâ”€â”€ augmentation.py
â”‚   â””â”€â”€ normalization.py
â”œâ”€â”€ postprocessing/
â”‚   â”œâ”€â”€ __init__.py (í•„ìˆ˜)
â”‚   â”œâ”€â”€ README.md (í•„ìˆ˜)
â”‚   â”œâ”€â”€ nms_utils.py
â”‚   â”œâ”€â”€ filtering.py
â”‚   â””â”€â”€ visualization.py
â”œâ”€â”€ tracking/
â”‚   â”œâ”€â”€ __init__.py (í•„ìˆ˜)
â”‚   â”œâ”€â”€ README.md (í•„ìˆ˜)
â”‚   â”œâ”€â”€ tracker.py
â”‚   â”œâ”€â”€ motion_model.py
â”‚   â””â”€â”€ association.py
â””â”€â”€ pose_estimation/
    â”œâ”€â”€ __init__.py (í•„ìˆ˜)
    â”œâ”€â”€ README.md (í•„ìˆ˜)
    â”œâ”€â”€ pose_estimator.py
    â””â”€â”€ keypoint_utils.py
```

## ğŸ“ ë¹„ì „ ì‹œìŠ¤í…œ ë„¤ì´ë° ê·œì¹™

### ëª¨ë¸ ê°€ì¤‘ì¹˜ íŒŒì¼ ë„¤ì´ë°
**íŒ¨í„´**: `{task}_{architecture}_{dataset}_{date}.{ext}`

**ì§€ì› íƒœìŠ¤í¬**:
- `face_detection` (ì–¼êµ´ ê°ì§€)
- `face_recognition` (ì–¼êµ´ ì¸ì‹)
- `emotion` (ê°ì • ì¸ì‹)
- `landmark` (ëœë“œë§ˆí¬ ì¶”ì¶œ)
- `pose` (ìì„¸ ì¶”ì •)
- `tracking` (ê°ì²´ ì¶”ì )
- `defect_detection` (ë¶ˆëŸ‰ ê²€ì¶œ) - í–¥í›„
- `powerline_inspection` (í™œì„  ê²€ì‚¬) - í–¥í›„

**ì˜ˆì‹œ**:
- `face_detection_retinaface_widerface_20250628.pt`
- `face_recognition_arcface_glint360k_20250628.onnx`
- `emotion_resnet50_fer_20250628.onnx`
- `defect_detection_yolov8n_factory_20250628.pt` (í–¥í›„)
- `powerline_inspection_efficientdet_d1_20250628.onnx` (í–¥í›„)

### ë„ë©”ì¸ ë„¤ì´ë° ê·œì¹™ (ë¹„ì „ ì‹œìŠ¤í…œ ì „ìš©)
```python
# Domains ë‚´ íŒŒì¼ ë„¤ì´ë°
DOMAIN_NAMING_RULES = {
    'core_pattern': '{entity_name}.py',
    'service_pattern': '{service_name}_service.py',
    'repository_pattern': '{entity_name}_repository.py',
    'value_object_pattern': '{value_object_name}.py',
    'examples': [
        'face.py',                    # ì—”í‹°í‹°
        'person.py',                  # ì—”í‹°í‹°
        'face_detection_service.py',  # ì„œë¹„ìŠ¤
        'face_repository.py',         # ì €ì¥ì†Œ
        'bounding_box.py'             # ê°’ ê°ì²´
    ]
}

# Infrastructure ë‚´ íŒŒì¼ ë„¤ì´ë°
INFRASTRUCTURE_NAMING_RULES = {
    'model_pattern': '{model_type}_model.py',
    'storage_pattern': '{storage_type}_storage.py',
    'engine_pattern': '{engine_type}_engine.py',
    'examples': [
        'retinaface_model.py',        # AI ëª¨ë¸
        'arcface_model.py',           # AI ëª¨ë¸
        'file_storage.py',            # ì €ì¥ì†Œ
        'detection_engine.py'         # ê²€ì¶œ ì—”ì§„
    ]
}

# Interfaces ë‚´ íŒŒì¼ ë„¤ì´ë°
INTERFACE_NAMING_RULES = {
    'api_pattern': '{domain_name}_api.py',
    'cli_pattern': '{domain_name}_cli.py',
    'examples': [
        'face_recognition_api.py',    # REST API
        'face_recognition_cli.py'     # CLI ì¸í„°í˜ì´ìŠ¤
    ]
}
```

## ğŸ­ ë„ë©”ì¸ íŠ¹í™” ê·œì¹™

### ì–¼êµ´ì¸ì‹ ë„ë©”ì¸ í‘œì¤€ (í˜„ì¬ ê°œë°œ ì¤‘)
```python
# ì–¼êµ´ì¸ì‹ ê´€ë ¨ í‘œì¤€ ì •ì˜
FACE_RECOGNITION_STANDARDS = {
    'confidence_thresholds': {
        'detection_min': 0.5,        # ìµœì†Œ ê²€ì¶œ ì‹ ë¢°ë„
        'recognition_min': 0.6,      # ìµœì†Œ ì¸ì‹ ì‹ ë¢°ë„
        'high_confidence': 0.8       # ë†’ì€ ì‹ ë¢°ë„ ê¸°ì¤€
    },
    'image_requirements': {
        'min_face_size': (80, 80),   # ìµœì†Œ ì–¼êµ´ í¬ê¸°
        'max_face_size': (640, 640), # ìµœëŒ€ ì–¼êµ´ í¬ê¸°
        'supported_formats': ['jpg', 'png', 'bmp']
    },
    'privacy_settings': {
        'anonymize_by_default': True, # ê¸°ë³¸ ìµëª…í™”
        'gdpr_compliance': True,      # GDPR ì¤€ìˆ˜
        'data_retention_days': 30     # ë°ì´í„° ë³´ì¡´ ê¸°ê°„
    }
}
```

### ê³µì¥ ë¶ˆëŸ‰ ê²€ì¶œ í‘œì¤€ (í–¥í›„ ê°œë°œ)
```python
# ë¶ˆëŸ‰ ìœ í˜• ì •ì˜ (í‘œì¤€í™”) - í–¥í›„ factory_defect ë„ë©”ì¸ìš©
DEFECT_TYPES = {
    'scratch': {'id': 0, 'color': [0, 0, 255], 'threshold': 0.3},
    'dent': {'id': 1, 'color': [0, 255, 0], 'threshold': 0.4}, 
    'crack': {'id': 2, 'color': [255, 0, 0], 'threshold': 0.5},
    'discoloration': {'id': 3, 'color': [255, 255, 0], 'threshold': 0.3}
}

# í’ˆì§ˆ ê´€ë¦¬ ì„ê³„ê°’
QUALITY_THRESHOLDS = {
    'alert_threshold': 0.05,     # 5% ë¶ˆëŸ‰ë¥ ì—ì„œ ê²½ê³ 
    'critical_threshold': 0.1,   # 10% ë¶ˆëŸ‰ë¥ ì—ì„œ ì‹¬ê° ì•Œë¦¼
    'sampling_rate': 1.0         # 100% ìƒ˜í”Œë§
}
```

### í™œì„  ìƒíƒœ ê²€ì¶œ í‘œì¤€ (í–¥í›„ ê°œë°œ)
```python
# í™œì„  ìƒíƒœ ì •ì˜ (í‘œì¤€í™”) - í–¥í›„ powerline_inspection ë„ë©”ì¸ìš©
POWERLINE_DEFECTS = {
    'broken_insulator': {'id': 0, 'threshold': 0.4},
    'damaged_conductor': {'id': 1, 'threshold': 0.35},
    'missing_component': {'id': 2, 'threshold': 0.3},
    'corroded_part': {'id': 3, 'threshold': 0.45},
    'bent_tower': {'id': 4, 'threshold': 0.5}
}
```

### í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì²˜ë¦¬ (ë¹„ì „ ì‹œìŠ¤í…œ í‘œì¤€)
```python
def handle_keyboard_input():
    """í‘œì¤€ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì²˜ë¦¬"""
    key = cv2.waitKey(1) & 0xFF
    if key == ord('q'):      # q: ì¢…ë£Œ
        return 'quit'
    elif key == ord('i'):    # i: ì •ë³´ í‘œì‹œ í† ê¸€
        return 'toggle_info'
    elif key == ord('s'):    # s: í˜„ì¬ í”„ë ˆì„ ì €ì¥
        return 'save_frame'
    elif key == ord('r'):    # r: ë…¹í™” ì‹œì‘/ì¤‘ì§€
        return 'toggle_record'
    elif key == ord('p'):    # p: ì¼ì‹œ ì •ì§€/ì¬ìƒ
        return 'toggle_pause'
    elif key == ord('h'):    # h: ë„ì›€ë§ í‘œì‹œ
        return 'show_help'
    elif key == ord('+'):    # +: ì„ê³„ê°’ ì¦ê°€
        return 'increase_threshold'
    elif key == ord('-'):    # -: ì„ê³„ê°’ ê°ì†Œ
        return 'decrease_threshold'
    return None
```

## ğŸ¤– ë¹„ì „ ëª¨ë¸ ê´€ë¦¬

### í•˜ë“œì›¨ì–´ ìë™ ê°ì§€ ë° ëª¨ë¸ ì„ íƒ
```python
def select_optimal_model():
    """í•˜ë“œì›¨ì–´ í™˜ê²½ì— ë”°ë¥¸ ìµœì  ëª¨ë¸ ìë™ ì„ íƒ"""
    if torch.cuda.is_available():
        # GPU í™˜ê²½
        return {
            'model': 'retinaface_resnet50',
            'batch_size': 4,
            'precision': 'fp16',
            'device': 'cuda'
        }
    else:
        # CPU í™˜ê²½  
        return {
            'model': 'retinaface_mobilenet',
            'batch_size': 1,
            'precision': 'fp32',
            'device': 'cpu'
        }
```

### ì•™ìƒë¸” ëª¨ë¸ ì‹œìŠ¤í…œ
```python
ENSEMBLE_STRATEGIES = {
    'voting': {
        'description': 'ë‹¤ìˆ˜ê²° íˆ¬í‘œ ë°©ì‹ìœ¼ë¡œ ì—¬ëŸ¬ ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ ê²°í•©',
        'parameters': {
            'weight_by_confidence': True,  # ì‹ ë¢°ë„ì— ë”°ë¼ íˆ¬í‘œ ê°€ì¤‘ì¹˜ ë¶€ì—¬
            'min_confidence': 0.4
        }
    },
    'averaging': {
        'description': 'ì—¬ëŸ¬ ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼(í™•ë¥ )ë¥¼ í‰ê· í•˜ì—¬ ê²°í•©',
        'parameters': {
            'weighted': True,  # ëª¨ë¸ ì„±ëŠ¥ ê°€ì¤‘ì¹˜ ì ìš©
            'softmax': True    # ìµœì¢… ê²°ê³¼ì— softmax ì ìš©
        }
    }
}
```

## ğŸ“Š ë°ì´í„°ì…‹ ê´€ë¦¬ (ë¹„ì „ ì‹œìŠ¤í…œ íŠ¹í™”)

### ë„ë©”ì¸ë³„ ë°ì´í„°ì…‹ êµ¬ì¡°
```python
DATASET_DOMAINS = {
    'face_recognition': {
        'structure': ['raw', 'processed', 'augmented', 'splits'],
        'formats': ['jpg', 'png'],
        'annotations': 'json',
        'preprocessing': ['resize', 'normalize', 'align_faces']
    },
    'factory_defect': {  # í–¥í›„
        'structure': ['raw', 'processed', 'augmented', 'splits'],
        'formats': ['jpg', 'png', 'tiff'],
        'annotations': 'yolo',
        'preprocessing': ['resize', 'normalize', 'clahe']
    },
    'powerline_inspection': {  # í–¥í›„
        'structure': ['raw', 'processed', 'augmented', 'splits'],
        'formats': ['jpg', 'png', 'tiff'],
        'annotations': 'coco',
        'preprocessing': ['resize', 'normalize', 'edge_enhancement']
    }
}
```

### ë°ì´í„° ì¦ê°• ì„¤ì • (ë„ë©”ì¸ë³„)
```python
DOMAIN_AUGMENTATION_SETTINGS = {
    'face_recognition': {
        'recommended': ['flip', 'brightness', 'rotation'],
        'resize': [224, 224],
        'normalize': True,
        'align_faces': True
    },
    'factory_defect': {  # í–¥í›„
        'recommended': ['brightness', 'rotation', 'noise'],
        'resize': [800, 800],
        'normalize': True,
        'clahe': True
    },
    'powerline_inspection': {  # í–¥í›„
        'recommended': ['brightness', 'contrast', 'gamma'],
        'resize': [1024, 1024],
        'normalize': True,
        'edge_enhancement': True
    }
}
```

## ğŸ¥ ì¹´ë©”ë¼ ì‹œìŠ¤í…œ ê´€ë¦¬

### ì¹´ë©”ë¼ ìœ í˜•ë³„ ì„¤ì •
```python
CAMERA_CONFIGURATIONS = {
    'usb_camera': {
        'device_pattern': '/dev/video*',
        'typical_indices': [0, 1, 2],
        'common_resolutions': [(640, 480), (1280, 720), (1920, 1080)],
        'supported_formats': ['MJPG', 'YUYV']
    },
    'ip_camera': {
        'protocol_support': ['rtsp', 'http', 'onvif'],
        'authentication': ['basic', 'digest'],
        'stream_formats': ['h264', 'mjpeg'],
        'common_ports': [554, 80, 8080]
    },
    'jetson_camera': {
        'types': ['CSI', 'USB'],
        'gstreamer_pipeline': True,
        'hardware_acceleration': True
    }
}
```

## ğŸ¯ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ í…œí”Œë¦¿ (ë¹„ì „ ì‹œìŠ¤í…œ)

```python
#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
ë¹„ì „ ì‹œìŠ¤í…œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ í…œí”Œë¦¿

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¹„ì „ ì‹œìŠ¤í…œì˜ íŠ¹ì • ë„ë©”ì¸ ê¸°ëŠ¥ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
"""

import os
import sys
import argparse
import logging
import cv2
from pathlib import Path

# í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê²½ë¡œ ì¶”ê°€
current_dir = Path(__file__).parent
project_root = current_dir.parent.parent
sys.path.append(str(project_root))

from common.logging import setup_logging
from common.config import load_config
from domains.{domain_name}.interfaces.api import {DomainName}API

def parse_args():
    """ëª…ë ¹ì¤„ ì¸ì íŒŒì‹±"""
    parser = argparse.ArgumentParser(description="{ê¸°ëŠ¥ëª…} ì‹¤í–‰")
    parser.add_argument("--source", type=str, default="0", help="ì…ë ¥ ì†ŒìŠ¤ (ì¹´ë©”ë¼ ID, íŒŒì¼ ê²½ë¡œ, RTSP URL)")
    parser.add_argument("--model", type=str, help="ëª¨ë¸ íŒŒì¼ ê²½ë¡œ")
    parser.add_argument("--config", type=str, help="ì„¤ì • íŒŒì¼ ê²½ë¡œ")
    parser.add_argument("--output", type=str, help="ì¶œë ¥ ê²½ë¡œ")
    parser.add_argument("--conf", type=float, default=0.5, help="ì‹ ë¢°ë„ ì„ê³„ê°’")
    parser.add_argument("--show", action="store_true", help="ê²°ê³¼ í™”ë©´ í‘œì‹œ")
    parser.add_argument("--save", action="store_true", help="ê²°ê³¼ ì €ì¥")
    return parser.parse_args()

def handle_keyboard_input():
    """í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬"""
    key = cv2.waitKey(1) & 0xFF
    if key == ord('q'):
        return 'quit'
    elif key == ord('s'):
        return 'save_frame'
    elif key == ord('r'):
        return 'toggle_record'
    elif key == ord('p'):
        return 'toggle_pause'
    return None

def main():
    """ë©”ì¸ í•¨ìˆ˜"""
    args = parse_args()
    
    # ë¡œê¹… ì„¤ì •
    setup_logging()
    logger = logging.getLogger(__name__)
    
    # ì„¤ì • ë¡œë“œ
    config = load_config(args.config)
    
    try:
        # ë©”ì¸ ë¡œì§ ì‹¤í–‰
        logger.info("Starting {ê¸°ëŠ¥ëª…}")
        
        # ì…ë ¥ ì†ŒìŠ¤ ì„¤ì •
        if args.source.isdigit():
            cap = cv2.VideoCapture(int(args.source))
        else:
            cap = cv2.VideoCapture(args.source)
        
        if not cap.isOpened():
            logger.error(f"Cannot open source: {args.source}")
            return
        
        # ë„ë©”ì¸ API ì´ˆê¸°í™”
        api = {DomainName}API()
        
        # ë©”ì¸ ì²˜ë¦¬ ë£¨í”„
        while True:
            ret, frame = cap.read()
            if not ret:
                break
            
            # í”„ë ˆì„ ì²˜ë¦¬
            result = api.process(frame)
            
            # ê²°ê³¼ í‘œì‹œ
            if args.show:
                cv2.imshow('Result', frame)
                
                # í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
                action = handle_keyboard_input()
                if action == 'quit':
                    break
                elif action == 'save_frame':
                    # í”„ë ˆì„ ì €ì¥ ë¡œì§
                    cv2.imwrite(f'data/output/frame_{timestamp}.jpg', frame)
        
        cap.release()
        cv2.destroyAllWindows()
        
    except KeyboardInterrupt:
        logger.info("Interrupted by user")
    except Exception as e:
        logger.error(f"Error: {e}")
        raise
    finally:
        logger.info("Finished {ê¸°ëŠ¥ëª…}")

if __name__ == "__main__":
    main()
```

## ğŸ”§ í•˜ë“œì›¨ì–´ ì—°ê²° ë° ì‹œë®¬ë ˆì´ì…˜ ë°©ì§€

### í•˜ë“œì›¨ì–´ ì—°ê²° ê²€ì¦ í‘œì¤€
```python
def verify_hardware_connection():
    """
    í•˜ë“œì›¨ì–´ ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
    ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¥¼ ì² ì €íˆ ë°©ì§€í•©ë‹ˆë‹¤.
    """
    # ì‹œë®¬ë ˆì´ì…˜ ë°©ì§€
    if os.environ.get("USE_SIMULATION", "False").lower() == "true":
        raise RuntimeError("ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œëŠ” ê¸ˆì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ í•˜ë“œì›¨ì–´ë¥¼ ì—°ê²°í•˜ì„¸ìš”.")
    
    # ì¹´ë©”ë¼ ì—°ê²° í™•ì¸
    try:
        from scripts.camera.check_camera import check_camera_connection
        camera_info = check_camera_connection(
            camera_id=config.get('camera', {}).get('id', 0),
            required_fps=config.get('camera', {}).get('min_fps', 15),
            required_resolution=tuple(config.get('camera', {}).get('min_resolution', (640, 480)))
        )
        
        if not camera_info:
            raise RuntimeError("ì¹´ë©”ë¼ ì—°ê²° ì‹¤íŒ¨. í•˜ë“œì›¨ì–´ ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”.")
            
        return True
        
    except ImportError:
        raise RuntimeError("í•˜ë“œì›¨ì–´ ê²€ì¦ ëª¨ë“ˆì„ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    except Exception as e:
        raise RuntimeError(f"í•˜ë“œì›¨ì–´ ì—°ê²° í™•ì¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {str(e)}")
```

### í•˜ë“œì›¨ì–´ ì—°ê²° ê·œì¹™
```python
HARDWARE_CONNECTION_RULES = {
    'simulation_prevention': {
        'env_var_check': 'USE_SIMULATION must be False',
        'dummy_data_prohibited': True,
        'mock_hardware_prohibited': True,
        'test_doubles_in_production': False
    },
    'camera_requirements': {
        'min_fps': 15,
        'min_resolution': (640, 480),
        'connection_timeout': 10,  # seconds
        'retry_attempts': 3
    },
    'validation_before_run': {
        'required': True,
        'fail_fast': True,
        'log_hardware_info': True
    }
}
```

## âš ï¸ ë¹„ì „ ì‹œìŠ¤í…œ íŠ¹í™” ê¸ˆì§€ ì‚¬í•­

1. **ì ˆëŒ€ ê¸ˆì§€**: ë„ë©”ì¸ ê°„ ì§ì ‘ import (domains.face_recognition â†’ domains.factory_defect)
2. **ì ˆëŒ€ ê¸ˆì§€**: ëª¨ë¸ íŒŒì¼ì„ `models/weights/` í´ë” ì™¸ë¶€ì— ì €ì¥
3. **ì ˆëŒ€ ê¸ˆì§€**: ì¹´ë©”ë¼ ë¦¬ì†ŒìŠ¤ í•´ì œ ì—†ì´ í”„ë¡œê·¸ë¨ ì¢…ë£Œ
4. **ì ˆëŒ€ ê¸ˆì§€**: OpenCV ì°½ ìƒì„± í›„ `destroyAllWindows()` í˜¸ì¶œ ëˆ„ë½
5. **ì ˆëŒ€ ê¸ˆì§€**: ë¹„ì „ ì²˜ë¦¬ ê²°ê³¼ë¥¼ `data/output/` ì™¸ë¶€ì— ì €ì¥
6. **ì ˆëŒ€ ê¸ˆì§€**: í•˜ë“œì½”ë”©ëœ ëª¨ë¸ ê²½ë¡œ (config íŒŒì¼ í™œìš©)
7. **ì ˆëŒ€ ê¸ˆì§€**: í”„ë ˆì„ ì²˜ë¦¬ ì¤‘ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ (ì ì ˆí•œ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬)
8. **ì ˆëŒ€ ê¸ˆì§€**: ì‹¤ì‹œê°„ ì²˜ë¦¬ì—ì„œ ë™ê¸° I/O ì‚¬ìš© (ë¹„ë™ê¸° ì²˜ë¦¬ ê¶Œì¥)
9. **ì ˆëŒ€ ê¸ˆì§€**: í•˜ë“œì›¨ì–´ ë¯¸ì—°ê²° ìƒíƒœì—ì„œ run íŒŒì¼ ì‹¤í–‰
10. **ì ˆëŒ€ ê¸ˆì§€**: numpy random image, opencv dummy ì˜ìƒ ë“± ê°€ì§œ ë°ì´í„°ë¡œ ì‹¤í–‰
11. **ì ˆëŒ€ ê¸ˆì§€**: í…ŒìŠ¤íŠ¸/ì‹œë®¬ë ˆì´í„° ì½”ë“œê°€ run_*.pyì— í¬í•¨ëœ ìƒíƒœë¡œ ì‹¤í–‰
12. **ì ˆëŒ€ ê¸ˆì§€**: USE_SIMULATION í™˜ê²½ ë³€ìˆ˜ë¥¼ Trueë¡œ ì„¤ì •í•˜ì—¬ ì‹¤í–‰

ì½”ë“œë¥¼ ìƒì„±í•  ë•Œ ì´ ëª¨ë“  ë¹„ì „ ì‹œìŠ¤í…œ íŠ¹í™” ê·œì¹™ì„ ì—„ê²©íˆ ì¤€ìˆ˜í•˜ê³ , ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” ì½”ë“œëŠ” ì ˆëŒ€ ìƒì„±í•˜ì§€ ë§ˆì„¸ìš”.

